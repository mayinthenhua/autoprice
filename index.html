<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Auto Price</title>
    <style>
         body {
            font-family: Arial, sans-serif;
            margin: 0;
            padding: 0;
            font-size: 13px;
        }
        html, body {
            display: grid;
        }
        .col-label-1{
            background-color: lightseagreen;
        }
        .m-w-80{   
           min-width: 80px;
        }
        .scrollable-list {
            height: 300px; 
            overflow-y: auto; 
            padding: 10px;
            list-style-type: none; 
        }
        .m-select-label{
            margin: 0px 0px 0px 10px;
        }
    </style>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-icons/1.10.0/font/bootstrap-icons.min.css">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz" crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.7.1/jquery.min.js" integrity="sha512-v2CJ7UaYy4JwqLDIrZUI/4hqeoQieOmAZNXBeQyjo21dadnwR+8ZaIJVT8EE2iyI61OV8e6M8PP2/4hpQINQ/g==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
</head>
<body>
    <div class="row" style="height: 20px;">
        <h6 class="mb-1">TÍNH ĐƠN GIÁ</h6>
    </div>
    <div class="row" style="margin: 0px 20px; padding-top: 20px; ">
        
        <div class="col-md-7 col-12" >
            
            <div class="card-body">
                <form>
                    <div class="row mb-3">
                        <label class="col-sm-1 col-form-label col-label-1 text-end" >HH</label>
                        <div class="col-sm-2 text-center">
                            Số lượng
                        </div>
                        <div class="col-sm-2  text-center">
                           Thuế (%)
                        </div>
                        <div class="col-sm-2  text-center">
                           Đơn giá
                        </div>
                        <label class="col-sm-1 col-form-label text-end" >±</label>
                        <div class="col-sm-2  text-center">
                            Phạm vi thay đổi giá
                        </div>
                        <div class="col-sm-2  text-center">
                           Kết quả
                        </div>
                    </div>
    
                  <div class="row mb-3">
                    <label class="col-sm-1 col-form-label col-label-1 text-end" >1</label>
                    <div class="col-sm-2">
                        <input id="quanlity1" class="form-control text-center m-w-80" type="text">
                    </div>
                    <div class="col-sm-2">
                        <input id="taxRate1" class="form-control text-center m-w-80" type="text">
                    </div>
                    <div class="col-sm-2">
                        <input id="price1"  class="form-control text-end m-w-80" type="text">
                    </div>
                    <label class="col-sm-1 col-form-label text-end" >±</label>
                    <div class="col-sm-2">
                        <input id="range1"  class="form-control  text-end m-w-80" type="text" >
                    </div>
                    <div class="col-sm-2">
                        <input id="result1" readonly  tabindex="-1" class="form-control  border-primary text-primary text-end m-w-80" type="text" >
                    </div>
                  </div>
                  <!---->
                  <div class="row mb-3">
                    <label class="col-sm-1 col-form-label col-label-1 text-end" >2</label>
                    <div class="col-sm-2">
                        <input id="quanlity2" class="form-control text-center m-w-80" type="text">
                    </div>
                    <div class="col-sm-2">
                        <input id="taxRate2" class="form-control text-center m-w-80" type="text">
                    </div>
                    <div class="col-sm-2">
                        <input id="price2"  class="form-control  text-end  m-w-80" type="text">
                    </div>
                    <label class="col-sm-1 col-form-label text-end" >±</label>
                    <div class="col-sm-2">
                        <input id="range2"  class="form-control  text-end m-w-80" type="text" >
                    </div>
                    <div class="col-sm-2">
                        <input id="result2" readonly tabindex="-1" class="form-control  border-primary text-primary text-end m-w-80" type="text" >
                    </div>
                  </div>
    
                   <!---->
                   <div class="row mb-3">
                    <label class="col-sm-1 col-form-label col-label-1 text-end" >3</label>
                    <div class="col-sm-2">
                        <input id="quanlity3" class="form-control text-center m-w-80" type="text">
                    </div>
                    <div class="col-sm-2">
                        <input id="taxRate3" class="form-control text-center m-w-80" type="text">
                    </div>
                    <div class="col-sm-2">
                        <input id="price3"  class="form-control  text-end  m-w-80" type="text">
                    </div>
                    <label class="col-sm-1 col-form-label text-end" >±</label>
                    <div class="col-sm-2">
                        <input id="range3"  class="form-control  text-end m-w-80" type="text" >
                    </div>
                    <div class="col-sm-2">
                        <input id="result3" readonly tabindex="-1" class="form-control  border-primary text-primary text-end m-w-80" type="text" >
                    </div>
                  </div>
                  <!---->
                  <div class="row mb-3">
                    <label class="col-sm-1 col-form-label col-label-1 text-end" >4</label>
                    <div class="col-sm-2">
                        <input id="quanlity4" class="form-control text-center m-w-80" type="text">
                    </div>
                    <div class="col-sm-2">
                        <input id="taxRate4" class="form-control text-center m-w-80" type="text">
                    </div>
                    <div class="col-sm-2">
                        <input id="price4"  class="form-control  text-end  m-w-80" type="text">
                    </div>
                    <label class="col-sm-1 col-form-label text-end" >±</label>
                    <div class="col-sm-2">
                        <input id="range4"  class="form-control  text-end m-w-80" type="text" >
                    </div>
                    <div class="col-sm-2">
                        <input id="result4" readonly tabindex="-1" class="form-control   border-primary  text-primary text-end m-w-80" type="text" >
                    </div>
                  </div>
                  <hr>
                  <div  class="row justify-content-between mb-3">
                    
                    <div class="col-sm-3">
                        <label class="col-form-label text-end" >Thời gian tìm(mili giây): </label>
                        <input id="input-timeout"  class="form-control" type="text" >
                    </div>
                    <div class="col-sm-2"></div>
                    <div class="col-sm-4">
                        <label class="col-form-label text-end" >Giá trị hóa đơn mong muốn</label>
                        <input id="total"  class="form-control text-end" type="text" style="border-color: red;" >
                    </div>
                  </div>
                  <div id="total-range" class="text-end">
                    
                  </div>
                </form>
            </div>
        </div>
        <div class="col-md-5  col-12">
            <div class="card-body" >
                <div class="row  text-center">
                    <div class="col-sm-4 d-flex justify-content-start">
                        <button id="btnResult" type="button" class="btn btn-primary" style="margin: 0px 15px; width: 200px;">
                            <span id="loading-result" class="spinner-border spinner-border-sm d-none"></span>
                            Tìm kết quả
                        </button>
                        
                    </div>
                    <div class="col-sm-4">
                        <input id="quick-search" class="form-check-input" type="checkbox" value="">
                        <label class="form-check-label" for="quick-search"> Tìm nhanh <br>(nếu tìm quá lâu) </label>
                    </div>
                    
                    <label class="col-sm-2 col-form-label text-end" >Tốc độ:</label>
                    <div class="col-sm-2">
                        <input id="input-speed"  class="form-control" type="text" >
                    </div>
                  </div>
                  <hr>
                  <div class="mt-1" >
                    <div id="invalid-value" class=" d-none"> 
                    </div>
                    <ul id="list-result" class="list-group scrollable-list" >
                        
                    </ul>
                   
                  </div>
                  <hr>
                  <div id="current-value" class=" d-none" style="color: gray;"> 
                </div>
            </div>
        </div>
    </div>

    
<script>
    function parseNumber(value) {
        return  parseInt(value.replace(/,/g, '',10));
    }
    function formatNumber(number) {
            return number.toString().replace(/\B(?=(\d{3})+(?!\d))/g, ",");
        }

        // Lắng nghe sự kiện trên tất cả các input có type=text
        document.querySelectorAll('input[type="text"]').forEach(function(input) {
            input.addEventListener('keypress', function(e) {
                if (e.key !== '.' && (e.key < '0' || e.key > '9')) {
                    e.preventDefault();
                }
            });
            input.addEventListener('input', function(e) {
                // Lấy giá trị số hiện tại (bỏ dấu phẩy)
                let value = e.target.value.replace(/,/g, '');

                // Kiểm tra nếu là số hợp lệ
                if (!isNaN(value) && value !== "") {
                    // Định dạng lại giá trị với dấu phân cách
                   // e.target.value = formatNumber(value);
                } else {
                    e.target.value = value; // Giữ nguyên giá trị nếu không hợp lệ
                }
            });

            // Khi người dùng focus vào input, xóa dấu phân cách để chỉnh sửa dễ dàng
            input.addEventListener('focus', function(e) {
                e.target.value = e.target.value.replace(/,/g, '');
                e.target.select();
            });

            // Khi người dùng blur, thêm lại dấu phân cách
            input.addEventListener('blur', function(e) {
                let value = e.target.value.replace(/,/g, '');
                if (!isNaN(value) && value !== "") {
                    e.target.value = formatNumber(value);
                }
            });
        });
</script>
<script>
    $(document).ready(function(){
        
        $('#quanlity1').val(5);
        $('#taxRate1').val(8);
        $('#price1').val( formatNumber(1550000) );
        $('#range1').val(formatNumber(10000));

        $('#quanlity2').val(0);
        $('#taxRate2').val(8);
        $('#price2').val(formatNumber(0));
        $('#range2').val(formatNumber(0));

        $('#quanlity3').val(0);
        $('#taxRate3').val(10);
        $('#price3').val(formatNumber(0));
        $('#range3').val(0);

        $('#quanlity4').val(0);
        $('#taxRate4').val(10);
        $('#price4').val(0);
        $('#range4').val(0);

        $('#taxRate5').val(10);
        $('#price5').val(0);
        $('#range5').val(0);
        $('#total').val(formatNumber(0));
        $('#input-timeout').val(formatNumber(10000));
        $('#input-speed').val(30);
    $('#btnResult').click(function(){
        let hh =[];
        hh.push({
            quanlity: parseNumber( $('#quanlity1').val(),10),
            taxRate:parseNumber($('#taxRate1').val(),10),
            price:parseNumber($('#price1').val(),10),
            range:parseNumber($('#range1').val(),10)
        });
        hh.push({
            quanlity:parseNumber($('#quanlity2').val(),10),
            taxRate:parseNumber($('#taxRate2').val(),10),
            price:parseNumber($('#price2').val(),10),
            range:parseNumber($('#range2').val(),10)   
        });

        hh.push({
            quanlity:parseNumber( $('#quanlity3').val(),10),
            price:parseNumber($('#price3').val(),10),
            range:parseNumber($('#range3').val(),10),
            taxRate:parseNumber($('#taxRate3').val(),10)   
        });
        hh.push({
            quanlity:parseNumber( $('#quanlity4').val(),10),
            price:parseNumber($('#price4').val(),10),
            range:parseNumber($('#range4').val(),10),
            taxRate:parseNumber($('#taxRate4').val(),10)   
        });
        
        let total =parseNumber($('#total').val(),10);
        let timeout =parseNumber($('#input-timeout').val(),10);
        let step =parseNumber($('#input-speed').val(),10);
        let resultRange = [];
        let isTimeout=false;
        
        $('#list-result').empty();
        $('#result1').val('');
        $('#result2').val('');
        $('#result3').val('');
        $('#result4').val('');
       // $('#result5').val('');
        const startTime = Date.now();
        try {
            //region min---max value
            let min_taxVal=0;
            let min_sub =0;
            let max_taxVal = 0;
            let max_sub = 0;
            let max_sub_1_4=0;
            let max_taxVal_1_4=0;
            for(let i=0; i<hh.length;i++){
                let min_sub_i = hh[i].quanlity * (hh[i].price - hh[i].range);
                let min_taxVal_i = min_sub_i * hh[i].taxRate / 100;
                min_taxVal += min_taxVal_i;
                min_sub +=min_sub_i;
                //====
                let max_sub_i = hh[i].quanlity * (hh[i].price + hh[i].range);
                let max_taxVal_i = max_sub_i * hh[i].taxRate / 100;
                max_taxVal += max_taxVal_i;
                max_sub+=max_sub_i;
                if(i>0){
                    max_sub_1_4+=max_sub_i;
                    max_taxVal_1_4+=max_taxVal_i;
                }
            }
           
            let startValue = (total - max_sub_1_4 - max_taxVal_1_4)*100/(100+hh[0].taxRate)/hh[0].quanlity;
            startValue = Math.floor(startValue);
            
            min_taxVal = roundNumber(min_taxVal);
            let min_val = min_sub + min_taxVal;

            max_taxVal =roundNumber(max_taxVal);
            let max_val = max_sub + max_taxVal;
            //=================
            displayInvalidMessage(false);
        //end region
            // let current_sub1 = quanlity1 * price1;
            // let current_taxVal1 = current_sub1 * taxRate1 / 100;
            // let current_sub2 = quanlity2 * price2;
            // let current_taxVal2 = current_sub2* taxRate2 / 100;
            // let current_sub3 = quanlity3 * price3;
            // let current_taxVal3 = current_sub3 * taxRate3 / 100;
            // let current_sub4 = quanlity4 * price4;
            // let current_taxVal4 = current_sub4 * taxRate4 / 100;
            // let current_taxVal5 = current_sub5 * taxRate5 / 100;
            // let current_taxVal = current_taxVal1 + current_taxVal2 + current_taxVal3 + current_taxVal4 + current_taxVal5;
            // current_taxVal = Math.round(current_taxVal);
            // let current_sub = current_sub1 + current_sub2 + current_sub3 + current_sub4 + current_sub5;
            // let current_val = current_sub + current_taxVal;
            
            $('#loading-result').removeClass('d-none');
            $('#current-value').addClass('d-none');
            setRangeValueMessage(min_val,max_val,total);
            if(total<=0){
                totalInvalidMsg();
                $('#loading-result').addClass('d-none');
                return;
            }
            if(total<min_val || total>max_val){
                $('#loading-result').addClass('d-none');
                
                return;
            }
            
            // setTimeout(() => {
                
            //     let isQuickSearch = $('#quick-search').is(':checked');
                
            //     startValue = isQuickSearch===true? Math.round(startValue): hh[0].price - hh[0].range;
                
            //     for (let x = startValue; x <= hh[0].price + hh[0].range && !isTimeout; x += step) {

            //         let sub1 = hh[0].quanlity * x;
            //         let taxVal1 = sub1 * hh[0].taxRate / 100;
            //         taxVal1 = roundNumber(taxVal1);
            //         if (sub1  + taxVal1 > total) {
            //             break;
            //         }
            //         for (let y = hh[1].price - hh[1].range; y <= hh[1].price + hh[1].range && !isTimeout; y += step) {
            //             let sub2 = hh[1].quanlity * y;
            //             let taxVal2 = sub2 * hh[1].taxRate / 100;
            //             taxVal2 = roundNumber(taxVal2); 
            //             if (sub1 + sub2  + taxVal1 + taxVal2 > total) {
            //                 break;
            //             }

            //             for (let z = hh[2].price - hh[2].range; z <= hh[2].price + hh[2].range && !isTimeout; z += step) {
            //                 let sub3 = hh[2].quanlity * z;
            //                 let taxVal3 = sub3 * hh[2].taxRate / 100;
            //                 taxVal3 = roundNumber(taxVal3);
            //                 if (sub1 + sub2 + sub3 + taxVal1 + taxVal2 + taxVal3 > total) {
            //                     break;
            //                 }

            //                 for (let u = hh[3].price - hh[3].range; u <= hh[3].price + hh[3].range && !isTimeout; u += step) {
            //                     let sub4 = hh[3].quanlity * u;
            //                     let taxVal4 = sub4 * hh[3].taxRate / 100;
            //                     taxVal4 =  roundNumber(taxVal4);
            //                     if (sub1 + sub2 + sub3 + sub4 + taxVal1 + taxVal2 + taxVal3 + taxVal4 > total) {
            //                         break;
            //                     }

            //                     for (let v = hh[4].price - hh[4].range; v <=hh[4].price + hh[4].range && !isTimeout; v += step) {
                                    
            //                         let sub5 = hh[4].quanlity * v;
            //                         let taxVal5 = sub5 * hh[4].taxRate / 100;
            //                         taxVal5 = roundNumber(taxVal5);
            //                         let sub = sub1 + sub2 + sub3 + sub4 + sub5;
            //                         let taxVal = taxVal1 + taxVal2 + taxVal3 + taxVal4 + taxVal5;
            //                         taxVal = roundNumber(taxVal);
            //                         let calculatedTotal = sub + taxVal;
            //                         if(calculatedTotal>total){
            //                             break;
            //                         }
                                    
            //                         if (calculatedTotal === total) {
            //                             resultRange.push({x,y,z,u,v});
            //                         }
            //                         if (Date.now() - startTime >= timeout) {
            //                             console.log('time out');
            //                             if(resultRange.length>0){
            //                                 timeoutHasValue({x,y,z,u,v});
            //                             }else{
            //                                 timeoutMsg({x,y,z,u,v});
            //                             }
                                       
            //                             isTimeout = true;
            //                             break;
            //                         }
            //                     }
            //                 }
                            
            //             }
            //         }
            //     }

            //     if(resultRange.length<1){
            //         if(!isTimeout){
            //             findNullMsg();
            //         }
            //     }else{
            //         for (let i = 0; i < resultRange.length; i++) {

            //              $('#list-result').append(
            //                 `<li class="list-group-item list-group-item-action">
            //                     HH1: <strong>${formatNumber(resultRange[i].x)}</strong> 
            //                     -HH2: <strong>${formatNumber(resultRange[i].y)}</strong> 
            //                     -HH3: <strong>${formatNumber(resultRange[i].z)}</strong> 
            //                     -HH4: <strong>${formatNumber(resultRange[i].u)}</strong> 
            //                     -HH5: <strong>${formatNumber(resultRange[i].v)}</strong>
            //                 </li>`);
                        
            //         }
            //     }
                                     
            //     $('#loading-result').addClass('d-none');  
            // }, 100);
            setTimeout(() => {
            let resultRange = findSolutions(hh, total, step, timeout);
       // console.log ('resultRange',resultRange);
            if (resultRange.length < 1) {
                if (!isTimeout) {
                    findNullMsg();
                }
            } else {
                for (let i = 0; i < resultRange.length; i++) {
                    let item = resultRange[i];

                    $('#list-result').append(
                        `<li class="list-group-item list-group-item-action">
                            HH1: <strong>${formatNumber(item.p1)}</strong> 
                            - HH2: <strong>${formatNumber(item.p2)}</strong> 
                            - HH3: <strong>${formatNumber(item.p3)}</strong> 
                            - HH4: <strong>${formatNumber(item.p4)}</strong>
                        </li>`
                    );
                }
            }

            $('#loading-result').addClass('d-none');
        }, 100);   
          
        } catch (error) {
            console.log(error);
            $('#loading-result').addClass('d-none');
        }
       
    });
        
       $(document).on('click','#list-result li',function(){
            try {
                $('#list-result li').removeClass('active');
                $(this).addClass('active');
                let selectedItemText = $(this).text();
                let items = selectedItemText.split('-');
                let hh1 = items[0].split(':')[1].trim();
                let hh2 = items[1].split(':')[1].trim();
                let hh3 = items[2].split(':')[1].trim();
                let hh4 = items[3].split(':')[1].trim();
                let hh5 = items[4].split(':')[1].trim();
                $('#result1').val(hh1);
                $('#result2').val(hh2);
                $('#result3').val(hh3);
                $('#result4').val(hh4);
                $('#result5').val(hh5);
            } catch (error) {
                
            }
            
       });
       function findSolutions(hh, total, step, timeout) {
        let resultRange = [];
        let startTime = Date.now();
        let isTimeout = false;

        function search(index, currentSolution, subTotal, taxTotal) {
            if (isTimeout || Date.now() - startTime >= timeout) {
                isTimeout = true;
                return;
            }

            if (index === hh.length) {
                if (subTotal + taxTotal === total) {
                    resultRange.push({ ...currentSolution });
                }
                return;
            }

            let product = hh[index];
            let minPrice = product.price - product.range;
            let maxPrice = product.price + product.range;

            for (let p = minPrice; p <= maxPrice; p += step) {
                let sub = product.quanlity * p;
                let tax = roundNumber(sub * product.taxRate / 100);

                if (subTotal + sub + taxTotal + tax > total) {
                    break;
                }

                search(index + 1, { ...currentSolution, [`p${index + 1}`]: p }, subTotal + sub, taxTotal + tax);
            }
        }

        search(0, {}, 0, 0);

        return resultRange;
    }

});
</script>
<script>
    
    function displayInvalidMessage(isdisplay){
        
        if(isdisplay){

            $('#invalid-value').removeClass('d-none');
        }else{
            $('#invalid-value').addClass('d-none');
        }
    }
    function setRangeValueMessage(min,max,value){
       
        if(value<min){
            $('#invalid-value').removeClass('d-none');
            $('#invalid-value').html(` <strong style="color: red;">Quá trình tìm kiếm bị lỗi.</strong> 
                <br> Vui lòng giảm số lượng hoặc đơn giá. <br> Cần giảm khoảng ${formatNumber(min-value)}`);
            $('#total-range').html(`Giá trị tìm được khoảng: <i style='color:red;' class="bi bi-file-arrow-down-fill"></i>... <strong> ${formatNumber(min)} ... ${formatNumber(max)}</strong> <br> Lớn hơn giá trị mong muốn.`);
        }
        else if(value > max){
            $('#invalid-value').removeClass('d-none');
            $('#invalid-value').html(` <strong style="color: red;">Quá trình tìm kiếm bị lỗi.</strong> 
            <br> Vui lòng tăng số lượng hoặc đơn giá. <br>Cần tăng khoảng ${formatNumber(value-max)}`);
           
            $('#total-range').html(`Giá trị tìm được khoảng: <strong> ${formatNumber(min)} ... ${formatNumber(max)}</strong>...<i style='color:red;' class="bi bi-file-arrow-down-fill"></i>  <br> Nhỏ hơn giá trị mong muốn.`);

        }
        else{
            $('#total-range').html(`Giá trị tìm được khoảng: <strong> ${formatNumber(min)} ...<i style='color:red;' class="bi bi-file-arrow-down-fill"></i>... ${formatNumber(max)}</strong> `);
        }
    }
    function timeoutMsg(value){
        $('#invalid-value').removeClass('d-none');
        $('#current-value').removeClass('d-none');
        $('#invalid-value').html(` <strong style="color: red;">Thời gian tìm kiếm quá lâu.</strong>`);
        $('#current-value').html(`Quá trình tìm kiếm đã dừng tại: <br>
                        HH1: <strong>${formatNumber(value.x)}</strong> 
                        -HH2: <strong>${formatNumber(value.y)}</strong> 
                        -HH3: <strong>${formatNumber(value.z)}</strong> 
                        -HH4: <strong>${formatNumber(value.u)}</strong> 
                        -HH5: <strong>${formatNumber(value.v)}</strong>`);
    }
    function timeoutHasValue(value){
        $('#invalid-value').removeClass('d-none');
        $('#current-value').removeClass('d-none');
        $('#invalid-value').html(` <strong style="color: red;"></strong>`);
        $('#current-value').html(`Quá trình tìm kiếm đã dừng tại: <br>
                HH1: <strong>${formatNumber(value.x)}</strong> 
                -HH2: <strong>${formatNumber(value.y)}</strong> 
                -HH3: <strong>${formatNumber(value.z)}</strong> 
                -HH4: <strong>${formatNumber(value.u)}</strong> 
                -HH5: <strong>${formatNumber(value.v)}</strong>`);
       
    }
    function findNullMsg(){
        $('#invalid-value').removeClass('d-none');
        $('#invalid-value').html(`<strong style="color: red;">Không tìm được kết quả hợp lệ.</strong>
        <br> 1. Thử giảm tốc độ để tìm kiếm sâu hơn.
        <br> 2. Thay đổi giá trị phù hợp. `);
       
    }
    function totalInvalidMsg(){
        $('#invalid-value').removeClass('d-none');
        $('#invalid-value').html(`<strong style="color: red;">Chưa cài đặt giá trị hóa đơn mong muốn.</strong> `);
    }
    function roundNumber(num) {
        return num >= Math.ceil(num) - 0.5 ? Math.ceil(num) : num;
    }
</script>
</body>
</html>