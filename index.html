<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Auto Price</title>
    <style>
         body {
            font-family: Arial, sans-serif;
            margin: 0;
            padding: 0;
            font-size: 13px;
        }
        html, body {
            display: grid;
        }
        .col-label-1{
            background-color: lightseagreen;
        }
        .m-w-80{   
           min-width: 80px;
        }
        .scrollable-list {
            height: 300px; 
            overflow-y: auto; 
            padding: 10px;
            list-style-type: none; 
        }
        .m-select-label{
            margin: 0px 0px 0px 10px;
        }
    </style>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-icons/1.10.0/font/bootstrap-icons.min.css">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz" crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.7.1/jquery.min.js" integrity="sha512-v2CJ7UaYy4JwqLDIrZUI/4hqeoQieOmAZNXBeQyjo21dadnwR+8ZaIJVT8EE2iyI61OV8e6M8PP2/4hpQINQ/g==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
</head>
<body>
    <div class="row" style="height: 50px;">
        <h1 class="mb-3" style="text-align: center; height: 50px; padding-bottom: 0px;">TÍNH ĐƠN GIÁ</h1>
    </div>
    <div class="row" style="margin: 0px 20px; padding-top: 20px; ">
        
        <div class="col-md-7 col-12" >
            
            <div class="card-body">
                <form>
                    <div class="row mb-3">
                        <label class="col-sm-1 col-form-label col-label-1 text-end" >HH</label>
                        <div class="col-sm-2 text-center">
                            Số lượng
                        </div>
                        <div class="col-sm-2  text-center">
                           Thuế (%)
                        </div>
                        <div class="col-sm-2  text-center">
                           Đơn giá
                        </div>
                        <label class="col-sm-1 col-form-label text-end" >±</label>
                        <div class="col-sm-2  text-center">
                            Phạm vi thay đổi giá
                        </div>
                        <div class="col-sm-2  text-center">
                           Kết quả
                        </div>
                    </div>
    
                  <div class="row mb-3">
                    <label class="col-sm-1 col-form-label col-label-1 text-end" >1</label>
                    <div class="col-sm-2">
                        <input id="quanlity1" class="form-control text-center m-w-80" type="text">
                    </div>
                    <div class="col-sm-2">
                        <input id="taxRate1" class="form-control text-center m-w-80" type="text">
                    </div>
                    <div class="col-sm-2">
                        <input id="price1"  class="form-control text-end m-w-80" type="text">
                    </div>
                    <label class="col-sm-1 col-form-label text-end" >±</label>
                    <div class="col-sm-2">
                        <input id="range1"  class="form-control  text-end m-w-80" type="text" >
                    </div>
                    <div class="col-sm-2">
                        <input id="result1" readonly  tabindex="-1" class="form-control  border-primary text-primary text-end m-w-80" type="text" >
                    </div>
                  </div>
                  <!---->
                  <div class="row mb-3">
                    <label class="col-sm-1 col-form-label col-label-1 text-end" >2</label>
                    <div class="col-sm-2">
                        <input id="quanlity2" class="form-control text-center m-w-80" type="text">
                    </div>
                    <div class="col-sm-2">
                        <input id="taxRate2" class="form-control text-center m-w-80" type="text">
                    </div>
                    <div class="col-sm-2">
                        <input id="price2"  class="form-control  text-end  m-w-80" type="text">
                    </div>
                    <label class="col-sm-1 col-form-label text-end" >±</label>
                    <div class="col-sm-2">
                        <input id="range2"  class="form-control  text-end m-w-80" type="text" >
                    </div>
                    <div class="col-sm-2">
                        <input id="result2" readonly tabindex="-1" class="form-control  border-primary text-primary text-end m-w-80" type="text" >
                    </div>
                  </div>
    
                   <!---->
                   <div class="row mb-3">
                    <label class="col-sm-1 col-form-label col-label-1 text-end" >3</label>
                    <div class="col-sm-2">
                        <input id="quanlity3" class="form-control text-center m-w-80" type="text">
                    </div>
                    <div class="col-sm-2">
                        <input id="taxRate3" class="form-control text-center m-w-80" type="text">
                    </div>
                    <div class="col-sm-2">
                        <input id="price3"  class="form-control  text-end  m-w-80" type="text">
                    </div>
                    <label class="col-sm-1 col-form-label text-end" >±</label>
                    <div class="col-sm-2">
                        <input id="range3"  class="form-control  text-end m-w-80" type="text" >
                    </div>
                    <div class="col-sm-2">
                        <input id="result3" readonly tabindex="-1" class="form-control  border-primary text-primary text-end m-w-80" type="text" >
                    </div>
                  </div>
                  <!---->
                  <div class="row mb-3">
                    <label class="col-sm-1 col-form-label col-label-1 text-end" >4</label>
                    <div class="col-sm-2">
                        <input id="quanlity4" class="form-control text-center m-w-80" type="text">
                    </div>
                    <div class="col-sm-2">
                        <input id="taxRate4" class="form-control text-center m-w-80" type="text">
                    </div>
                    <div class="col-sm-2">
                        <input id="price4"  class="form-control  text-end  m-w-80" type="text">
                    </div>
                    <label class="col-sm-1 col-form-label text-end" >±</label>
                    <div class="col-sm-2">
                        <input id="range4"  class="form-control  text-end m-w-80" type="text" >
                    </div>
                    <div class="col-sm-2">
                        <input id="result4" readonly tabindex="-1" class="form-control   border-primary  text-primary text-end m-w-80" type="text" >
                    </div>
                  </div>
                  <!---->
                  <div class="row mb-3">
                    <label class="col-sm-1 col-form-label col-label-1 text-end" >5</label>
                    <div class="col-sm-2">
                        <input id="quanlity5" class="form-control text-center m-w-80" type="text">
                    </div>
                    <div class="col-sm-2">
                        <input id="taxRate5" class="form-control text-center m-w-80" type="text">
                    </div>
                    <div class="col-sm-2">
                        <input id="price5"  class="form-control  text-end  m-w-80" type="text">
                    </div>
                    <label class="col-sm-1 col-form-label text-end" >±</label>
                    <div class="col-sm-2">
                        <input id="range5"  class="form-control  text-end m-w-80" type="text" >
                    </div>
                    <div class="col-sm-2">
                        <input id="result5" readonly tabindex="-1" class="form-control border-primary text-primary text-end m-w-80" type="text" >
                    </div>
                  </div>
                  <hr>
                  <div  class="row justify-content-between mb-3">
                    
                    <div class="col-sm-3">
                        <label class="col-form-label text-end" >Thời gian tìm(mili giây): </label>
                        <input id="input-timeout"  class="form-control" type="text" >
                    </div>
                    <div class="col-sm-2"></div>
                    <div class="col-sm-4">
                        <label class="col-form-label text-end" >Giá trị hóa đơn mong muốn</label>
                        <input id="total"  class="form-control text-end" type="text" style="border-color: red;" >
                    </div>
                  </div>
                  <div id="total-range" class="text-end">
                    
                  </div>
                </form>
            </div>
        </div>
        <div class="col-md-5  col-12">
            <div class="card-body" >
                <div class="row  text-center">
                    <div class="col-sm-4 d-flex justify-content-start">
                        <button id="btnResult" type="button" class="btn btn-primary" style="margin: 0px 15px; width: 200px;">
                            <span id="loading-result" class="spinner-border spinner-border-sm d-none"></span>
                            Tìm kết quả
                        </button>
                        
                    </div>
                    <div class="col-sm-4">
                        <input id="quick-search" class="form-check-input" type="checkbox" value="">
                        <label class="form-check-label" for="quick-search"> Tìm nhanh <br>(nếu tìm quá lâu) </label>
                    </div>
                    
                    <label class="col-sm-2 col-form-label text-end" >Tốc độ:</label>
                    <div class="col-sm-2">
                        <input id="input-speed"  class="form-control" type="text" >
                    </div>
                  </div>
                  <hr>
                  <div class="mt-1" >
                    <div id="invalid-value" class=" d-none"> 
                    </div>
                    <ul id="list-result" class="list-group scrollable-list" >
                        
                    </ul>
                   
                  </div>
                  <hr>
                  <div id="current-value" class=" d-none" style="color: gray;"> 
                </div>
            </div>
        </div>
    </div>

    
<script>
    function parseNumber(value) {
        return  parseInt(value.replace(/,/g, '',10));
    }
    function formatNumber(number) {
            return number.toString().replace(/\B(?=(\d{3})+(?!\d))/g, ",");
        }

        // Lắng nghe sự kiện trên tất cả các input có type=text
        document.querySelectorAll('input[type="text"]').forEach(function(input) {
            input.addEventListener('keypress', function(e) {
                if (e.key !== '.' && (e.key < '0' || e.key > '9')) {
                    e.preventDefault();
                }
            });
            input.addEventListener('input', function(e) {
                // Lấy giá trị số hiện tại (bỏ dấu phẩy)
                let value = e.target.value.replace(/,/g, '');

                // Kiểm tra nếu là số hợp lệ
                if (!isNaN(value) && value !== "") {
                    // Định dạng lại giá trị với dấu phân cách
                   // e.target.value = formatNumber(value);
                } else {
                    e.target.value = value; // Giữ nguyên giá trị nếu không hợp lệ
                }
            });

            // Khi người dùng focus vào input, xóa dấu phân cách để chỉnh sửa dễ dàng
            input.addEventListener('focus', function(e) {
                e.target.value = e.target.value.replace(/,/g, '');
                e.target.select();
            });

            // Khi người dùng blur, thêm lại dấu phân cách
            input.addEventListener('blur', function(e) {
                let value = e.target.value.replace(/,/g, '');
                if (!isNaN(value) && value !== "") {
                    e.target.value = formatNumber(value);
                }
            });
        });
</script>
<script>
    $(document).ready(function(){
        
        $('#quanlity1').val(5);
        $('#taxRate1').val(8);
        $('#price1').val( formatNumber(1550000) );
        $('#range1').val(formatNumber(10000));

        $('#quanlity2').val(0);
        $('#taxRate2').val(8);
        $('#price2').val(formatNumber(0));
        $('#range2').val(formatNumber(0));

        $('#quanlity3').val(0);
        $('#taxRate3').val(10);
        $('#price3').val(formatNumber(0));
        $('#range3').val(0);

        $('#quanlity4').val(0);
        $('#taxRate4').val(10);
        $('#price4').val(0);
        $('#range4').val(0);

        $('#quanlity5').val(0);
        $('#taxRate5').val(10);
        $('#price5').val(0);
        $('#range5').val(0);
        $('#total').val(formatNumber(0));
        $('#input-timeout').val(formatNumber(10000));
        $('#input-speed').val(30);
    $('#btnResult').click(function(){
        let hh =[];
        hh.push({
            quanlity: parseNumber( $('#quanlity1').val(),10),
            taxRate:parseNumber($('#taxRate1').val(),10),
            price:parseNumber($('#price1').val(),10),
            range:parseNumber($('#range1').val(),10)
        });
        hh.push({
            quanlity:parseNumber($('#quanlity2').val(),10),
            taxRate:parseNumber($('#taxRate2').val(),10),
            price:parseNumber($('#price2').val(),10),
            range:parseNumber($('#range2').val(),10)   
        });

        hh.push({
            quanlity:parseNumber( $('#quanlity3').val(),10),
            price:parseNumber($('#price3').val(),10),
            range:parseNumber($('#range3').val(),10),
            taxRate:parseNumber($('#taxRate3').val(),10)   
        });
        hh.push({
            quanlity:parseNumber( $('#quanlity4').val(),10),
            price:parseNumber($('#price4').val(),10),
            range:parseNumber($('#range4').val(),10),
            taxRate:parseNumber($('#taxRate4').val(),10)   
        });
        hh.push({
            quanlity:parseNumber( $('#quanlity5').val(),10),
            price:parseNumber($('#price5').val(),10),
            range:parseNumber($('#range5').val(),10),
            taxRate:parseNumber($('#taxRate5').val(),10)   
        });
        
        let total =parseNumber($('#total').val(),10);
        let timeout =parseNumber($('#input-timeout').val(),10);
        let step =parseNumber($('#input-speed').val(),10);
        let resultRange = [];
        let isTimeout=false;
        
        $('#list-result').empty();
        $('#result1').val('');
        $('#result2').val('');
        $('#result3').val('');
        $('#result4').val('');
        $('#result5').val('');
        const startTime = Date.now();
        try {
            //region min---max value
            let min_taxVal=0;
            let min_sub =0;
            let max_taxVal = 0;
            let max_sub = 0;
            let max_sub_1_4=0;
            let max_taxVal_1_4=0;
            for(let i=0; i<5;i++){
                let min_sub_i = hh[i].quanlity * (hh[i].price - hh[i].range);
                let min_taxVal_i = min_sub_i * hh[i].taxRate / 100;
                min_taxVal += min_taxVal_i;
                min_sub +=min_sub_i;
                //====
                let max_sub_i = hh[i].quanlity * (hh[i].price + hh[i].range);
                let max_taxVal_i = max_sub_i * hh[i].taxRate / 100;
                max_taxVal += max_taxVal_i;
                max_sub+=max_sub_i;
                if(i>0){
                    max_sub_1_4+=max_sub_i;
                    max_taxVal_1_4+=max_taxVal_i;
                }
            }
           
            let startValue = (total - max_sub_1_4 - max_taxVal_1_4)*100/(100+hh[0].taxRate)/hh[0].quanlity;
            startValue = Math.floor(startValue);
            
            min_taxVal = roundNumber(min_taxVal);
            let min_val = min_sub + min_taxVal;

            max_taxVal =roundNumber(max_taxVal);
            let max_val = max_sub + max_taxVal;
            //=================
            displayInvalidMessage(false);
        //end region
            // let current_sub1 = quanlity1 * price1;
            // let current_taxVal1 = current_sub1 * taxRate1 / 100;
            // let current_sub2 = quanlity2 * price2;
            // let current_taxVal2 = current_sub2* taxRate2 / 100;
            // let current_sub3 = quanlity3 * price3;
            // let current_taxVal3 = current_sub3 * taxRate3 / 100;
            // let current_sub4 = quanlity4 * price4;
            // let current_taxVal4 = current_sub4 * taxRate4 / 100;
            // let current_sub5 = quanlity5 * price5;
            // let current_taxVal5 = current_sub5 * taxRate5 / 100;
            // let current_taxVal = current_taxVal1 + current_taxVal2 + current_taxVal3 + current_taxVal4 + current_taxVal5;
            // current_taxVal = Math.round(current_taxVal);
            // let current_sub = current_sub1 + current_sub2 + current_sub3 + current_sub4 + current_sub5;
            // let current_val = current_sub + current_taxVal;
            
            $('#loading-result').removeClass('d-none');
            $('#current-value').addClass('d-none');
            setRangeValueMessage(min_val,max_val,total);
            if(total<=0){
                totalInvalidMsg();
                $('#loading-result').addClass('d-none');
                return;
            }
            if(total<min_val || total>max_val){
                $('#loading-result').addClass('d-none');
                
                return;
            }
            
            // setTimeout(() => {
            //     let isQuickSearch = $('#quick-search').is(':checked');
            //     startValue = isQuickSearch ? Math.round(startValue) : hh[0].price - hh[0].range;
                
            //     const priceRange = hh.map(item => ({ 
            //         min: item.price - item.range, 
            //         max: item.price + item.range, 
            //         step: step, 
            //         quantity: item.quanlity, 
            //         taxRate: item.taxRate 
            //     }));

            //     for (let x = priceRange[0].min; x <= priceRange[0].max && !isTimeout; x += priceRange[0].step) {
            //         let sub1 = priceRange[0].quantity * x;
            //         let taxVal1 = roundNumber(sub1 * priceRange[0].taxRate / 100);
            //         if (sub1 + taxVal1 > total) break;

            //         for (let y = priceRange[1].min; y <= priceRange[1].max && !isTimeout; y += priceRange[1].step) {
            //             let sub2 = priceRange[1].quantity * y;
            //             let taxVal2 = roundNumber(sub2 * priceRange[1].taxRate / 100);
            //             if (sub1 + sub2 + taxVal1 + taxVal2 > total) break;

            //             for (let z = priceRange[2].min; z <= priceRange[2].max && !isTimeout; z += priceRange[2].step) {
            //                 let sub3 = priceRange[2].quantity * z;
            //                 let taxVal3 = roundNumber(sub3 * priceRange[2].taxRate / 100);
            //                 if (sub1 + sub2 + sub3 + taxVal1 + taxVal2 + taxVal3 > total) break;

            //                 for (let u = priceRange[3].min; u <= priceRange[3].max && !isTimeout; u += priceRange[3].step) {
            //                     let sub4 = priceRange[3].quantity * u;
            //                     let taxVal4 = roundNumber(sub4 * priceRange[3].taxRate / 100);
            //                     if (sub1 + sub2 + sub3 + sub4 + taxVal1 + taxVal2 + taxVal3 + taxVal4 > total) break;

            //                     for (let v = priceRange[4].min; v <= priceRange[4].max && !isTimeout; v += priceRange[4].step) {
            //                         let sub5 = priceRange[4].quantity * v;
            //                         let taxVal5 = roundNumber(sub5 * priceRange[4].taxRate / 100);

            //                         let totalSub = sub1 + sub2 + sub3 + sub4 + sub5;
            //                         let totalTax = taxVal1 + taxVal2 + taxVal3 + taxVal4 + taxVal5;
            //                         let calculatedTotal = totalSub + totalTax;

            //                         if (calculatedTotal > total) break;

            //                         if (calculatedTotal === total) {
            //                             resultRange.push({ x, y, z, u, v });
            //                         }

            //                         if (Date.now() - startTime >= timeout) {
            //                             console.log('time out');
            //                             isTimeout = true;
            //                             if (resultRange.length > 0) {
            //                                 timeoutHasValue({ x, y, z, u, v });
            //                             } else {
            //                                 timeoutMsg({ x, y, z, u, v });
            //                             }
            //                             break;
            //                         }
            //                     }
            //                 }
            //             }
            //         }
            //     }

            //     if (resultRange.length < 1 && !isTimeout) {
            //         findNullMsg();
            //     } else {
            //         $('#list-result').html(resultRange.map(r => `
            //             <li class="list-group-item list-group-item-action">
            //                 HH1: <strong>${formatNumber(r.x)}</strong> 
            //                 - HH2: <strong>${formatNumber(r.y)}</strong> 
            //                 - HH3: <strong>${formatNumber(r.z)}</strong> 
            //                 - HH4: <strong>${formatNumber(r.u)}</strong> 
            //                 - HH5: <strong>${formatNumber(r.v)}</strong>
            //             </li>`).join(""));
            //     }

            //     $('#loading-result').addClass('d-none');  
            // }, 100);

            setTimeout(() => {
                let isQuickSearch = $('#quick-search').is(':checked');
                startValue = isQuickSearch ? Math.round(startValue) : hh[0].price - hh[0].range;
                
                findCombinations(0, {}, 0, 0);
                
                if (resultRange.length < 1 && !isTimeout) {
                    findNullMsg();
                } else {
                    resultRange.forEach(result => {
                        $('#list-result').append(
                            `<li class="list-group-item list-group-item-action">
                                HH1: <strong>${formatNumber(result[0])}</strong>
                                -HH2: <strong>${formatNumber(result[1])}</strong>
                                -HH3: <strong>${formatNumber(result[2])}</strong>
                                -HH4: <strong>${formatNumber(result[3])}</strong>
                                -HH5: <strong>${formatNumber(result[4])}</strong>
                            </li>`
                        );
                    });
                }
                
                $('#loading-result').addClass('d-none');  
            }, 100);
          
        } catch (error) {
            console.log(error);
            $('#loading-result').addClass('d-none');
        }
       
    });
        
       $(document).on('click','#list-result li',function(){
            try {
                $('#list-result li').removeClass('active');
                $(this).addClass('active');
                let selectedItemText = $(this).text();
                let items = selectedItemText.split('-');
                let hh1 = items[0].split(':')[1].trim();
                let hh2 = items[1].split(':')[1].trim();
                let hh3 = items[2].split(':')[1].trim();
                let hh4 = items[3].split(':')[1].trim();
                let hh5 = items[4].split(':')[1].trim();
                $('#result1').val(hh1);
                $('#result2').val(hh2);
                $('#result3').val(hh3);
                $('#result4').val(hh4);
                $('#result5').val(hh5);
            } catch (error) {
                
            }
            
       });
    
});
function findCombinations(index, currentValues, currentSubTotal, currentTaxTotal) {
    if (index === hh.length) {
        let calculatedTotal = currentSubTotal + currentTaxTotal;
        if (calculatedTotal === total) {
            resultRange.push({ ...currentValues });
        }
        return;
    }
    
    let item = hh[index];
    for (let value = item.price - item.range; value <= item.price + item.range && !isTimeout; value += step) {
        let sub = item.quanlity * value;
        let tax = roundNumber(sub * item.taxRate / 100);
        
        if (currentSubTotal + sub + currentTaxTotal + tax > total) {
            break;
        }
        
        currentValues[index] = value;
        findCombinations(index + 1, currentValues, currentSubTotal + sub, currentTaxTotal + tax);
        
        if (Date.now() - startTime >= timeout) {
            console.log('time out');
            if (resultRange.length > 0) {
                timeoutHasValue(currentValues);
            } else {
                timeoutMsg(currentValues);
            }
            isTimeout = true;
            return;
        }
    }
}
</script>
<script>
    
    function displayInvalidMessage(isdisplay){
        
        if(isdisplay){

            $('#invalid-value').removeClass('d-none');
        }else{
            $('#invalid-value').addClass('d-none');
        }
    }
    function setRangeValueMessage(min,max,value){
       
        if(value<min){
            $('#invalid-value').removeClass('d-none');
            $('#invalid-value').html(` <strong style="color: red;">Quá trình tìm kiếm bị lỗi.</strong> 
                <br> Vui lòng giảm số lượng hoặc đơn giá. <br> Cần giảm khoảng ${formatNumber(min-value)}`);
            $('#total-range').html(`Giá trị tìm được khoảng: <i style='color:red;' class="bi bi-file-arrow-down-fill"></i>... <strong> ${formatNumber(min)} ... ${formatNumber(max)}</strong> <br> Lớn hơn giá trị mong muốn.`);
        }
        else if(value > max){
            $('#invalid-value').removeClass('d-none');
            $('#invalid-value').html(` <strong style="color: red;">Quá trình tìm kiếm bị lỗi.</strong> 
            <br> Vui lòng tăng số lượng hoặc đơn giá. <br>Cần tăng khoảng ${formatNumber(value-max)}`);
           
            $('#total-range').html(`Giá trị tìm được khoảng: <strong> ${formatNumber(min)} ... ${formatNumber(max)}</strong>...<i style='color:red;' class="bi bi-file-arrow-down-fill"></i>  <br> Nhỏ hơn giá trị mong muốn.`);

        }
        else{
            $('#total-range').html(`Giá trị tìm được khoảng: <strong> ${formatNumber(min)} ...<i style='color:red;' class="bi bi-file-arrow-down-fill"></i>... ${formatNumber(max)}</strong> `);
        }
    }
    function timeoutMsg(value){
        $('#invalid-value').removeClass('d-none');
        $('#current-value').removeClass('d-none');
        $('#invalid-value').html(` <strong style="color: red;">Thời gian tìm kiếm quá lâu.</strong>`);
        $('#current-value').html(`Quá trình tìm kiếm đã dừng tại: <br>
                        HH1: <strong>${formatNumber(value.x)}</strong> 
                        -HH2: <strong>${formatNumber(value.y)}</strong> 
                        -HH3: <strong>${formatNumber(value.z)}</strong> 
                        -HH4: <strong>${formatNumber(value.u)}</strong> 
                        -HH5: <strong>${formatNumber(value.v)}</strong>`);
    }
    function timeoutHasValue(value){
        $('#invalid-value').removeClass('d-none');
        $('#current-value').removeClass('d-none');
        $('#invalid-value').html(` <strong style="color: red;"></strong>`);
        $('#current-value').html(`Quá trình tìm kiếm đã dừng tại: <br>
                HH1: <strong>${formatNumber(value.x)}</strong> 
                -HH2: <strong>${formatNumber(value.y)}</strong> 
                -HH3: <strong>${formatNumber(value.z)}</strong> 
                -HH4: <strong>${formatNumber(value.u)}</strong> 
                -HH5: <strong>${formatNumber(value.v)}</strong>`);
       
    }
    function findNullMsg(){
        $('#invalid-value').removeClass('d-none');
        $('#invalid-value').html(`<strong style="color: red;">Không tìm được kết quả hợp lệ.</strong>
        <br> 1. Thử giảm tốc độ để tìm kiếm sâu hơn.
        <br> 2. Thay đổi giá trị phù hợp. `);
       
    }
    function totalInvalidMsg(){
        $('#invalid-value').removeClass('d-none');
        $('#invalid-value').html(`<strong style="color: red;">Chưa cài đặt giá trị hóa đơn mong muốn.</strong> `);
    }
    function roundNumber(num) {
        return num >= Math.ceil(num) - 0.5 ? Math.ceil(num) : num;
    }
</script>
</body>
</html>
